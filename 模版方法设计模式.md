# 模版方法设计模式

## 1.目的

​	在一个类的方法写完之后，为了能够让他更好扩展，比如在中间插入一些新的执行逻辑，这个时候可以用到模版方法设计模式。

## 2.用法

​	可以准备一个用于扩展的接口A，在里面定义一个抽象方法a，然后再想要扩展的方法的类B中定义一个成员变量，就是这个A接口的list集合，并且定义一个能够向集合中添加元素的方法。然后在B类的想要扩展方法的地方遍历该集合，执行抽象方法即可。

​	这样在使用时，我们只需要构建几个接口A的实现类加到list集合中就能灵活的进行扩展。

## 3.示例

```java
public class MethodTemplete {
    public static void main(String[] args) {
        FactoryBean factoryBean = new FactoryBean();
        factoryBean.addPostProcessors(()->System.out.println("扩展1"));
        factoryBean.addPostProcessors(()->System.out.println("扩展2"));
        Object bean = factoryBean.getBean();
    }

    static class FactoryBean{
        //这是想要进行扩展的方法
        public Object getBean(){
            Object bean = new Object();
            System.out.println("初始化");
            System.out.println("构建");
            //遍历接口，执行inject
            for (PostProcessor postProcessor : postProcessorList) {
                postProcessor.inject();
            }
            System.out.println("销毁");
            return bean;
        }
        private List<PostProcessor> postProcessorList = new ArrayList<>();
        public void addPostProcessors(PostProcessor processor){
            postProcessorList.add(processor);
        }
    }
    //定义后置处理器，便于扩展
    static interface PostProcessor{
        public void inject();
    }
}
```

## 4.实际应用领域

​	Spring中的bean后处理器
